paths:
  /acquisition/v1/subawards:
    post:
      tags:
        - acquisition-subaward-api-controller
      summary: Upload a Contract Subaward report
      description: Upload a Contract Subaward report
      operationId: saveContractReport
      parameters:
        - name: Authorization
          in: header
          description: Authorization
          required: true
          schema:
            type: string
        - name: api_key
          in: query
          description: api_key
          required: true
          schema:
            type: string
      requestBody:
        description: Upload a Contract SubAward Subaward report
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ContractObject'
        required: true
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '405':
          description: Validation exception    
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'          
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '501':
          description: Not Implemented
    put:
      tags:
        - acquisition-subaward-api-controller
      summary: Update existing SubAward Contract Report(s)
      description: Update existing SubAward Contract Report(s) by unique key
      operationId: updateContractReport
      parameters:
        - name: Authorization
          in: header
          description: Authorization
          required: true
          schema:
            type: string
        - name: api_key
          in: query
          description: api_key
          required: true
          schema:
            type: string
      requestBody:
        description: Update SubAward Contract Report(s)
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ContractObject'
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '405':
          description: Validation exception
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '501':
          description: Not Implemented
    delete:
      tags:
        - acquisition-subaward-api-controller
      summary: Deletes Contract SubAward Subaward Report(s)
      description: Deletes Contract SubAward Subaward Report(s)
      operationId: deleteContractReport
      parameters:
        - name: Authorization
          in: header
          description: Authorization
          required: true
          schema:
            type: string
        - name: api_key
          in: query
          description: api_key
          required: true
          schema:
            type: string
        - name: requestBody
          in: query
          description: Delete Contract SubAward Subaward report(s)
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ContractRequestObject'
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '405':
          description: Validation exception
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '501':
          description: Not Implemented
  /acquisition/v1/subawards/get:
    post:
      tags:
        - acquisition-subaward-api-controller
      summary: Get existing SubAward Contract Report(s)
      description: Get existing SubAward Contract Report(s)
      operationId: getContractReport
      parameters:
        - name: Authorization
          in: header
          description: Authorization
          required: true
          schema:
            type: string
        - name: api_key
          in: query
          description: api_key
          required: true
          schema:
            type: string
        - name: requestBody
          in: query
          description: Get existing Contract SubAward Subaward report(s)
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ContractRequestObject'
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'       
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '405':
          description: Validation exception
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '501':
          description: Not Implemented          
  /assistance/v1/subawards:
    post:
      tags:
        - assistance-subaward-api-controller
      summary: Create Grant SubAward report(s)
      description: Endpoint to create one/multiple Grant SubAward report(s)
      operationId: saveGrantReport
      parameters:
        - name: Authorization
          in: header
          description: Authorization
          required: true
          schema:
            type: string
        - name: api_key
          in: query
          description: api_key
          required: true
          schema:
            type: string
      requestBody:
        description: Request to create one/multiple Grant SubAward report(s)
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GrantObject'
        required: true
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '400':
          description: Bad Request
          content:
            "*/*":
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '405':
          description: Validation exception
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
          
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '501':
          description: Not Implemented
    put:
      tags:
        - assistance-subaward-api-controller
      summary: Update existing SubAward Grant Report(s)
      description: Endpoint to update existing Grant SubAward report(s)
      operationId: updateGrantReport
      parameters:
        - name: Authorization
          in: header
          description: Authorization
          required: true
          schema:
            type: string
        - name: api_key
          in: query
          description: api_key
          required: true
          schema:
            type: string
      requestBody:
        description: Request to update Grant SubAward report(s)
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GrantObject'
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '405':
          description: Validation exception
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '501':
          description: Not Implemented
    delete:
      tags:
        - assistance-subaward-api-controller
      summary: Delete Grant SubAward Subaward report(s)
      description: Delete Grant SubAward Subaward report(s)
      operationId: deleteGrantReport
      parameters:
        - name: Authorization
          in: header
          description: Authorization
          required: true
          schema:
            type: string
        - name: api_key
          in: query
          description: api_key
          required: true
          schema:
            type: string
        - name: requestBody
          in: query
          description: Delete Grant SubAward Subaward report(s)
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GrantRequestObject'
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '405':
          description: Validation exception
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '501':
          description: Not Implemented
  /assistance/v1/subawards/get:  
    post:
      tags:
        - assistance-subaward-api-controller
      summary: Get existing Grant SubAward Subaward report(s)
      description: Get existing Grant SubAward Subaward report(s)
      operationId: getGrantReport
      parameters:
        - name: Authorization
          in: header
          description: Authorization
          required: true
          schema:
            type: string
        - name: api_key
          in: query
          description: api_key
          required: true
          schema:
            type: string
        - name: requestBody
          in: query
          description: Get existing Grant SubAward Subaward report(s)
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GrantRequestObject'
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'       
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '405':
          description: Validation exception
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": '#/components/schemas/SubawardsAPIResponse'
        '501':
          description: Not Implemented
components:
  schemas:
    SubawardsAPIResponse:
      type: object
      properties:
        id:
          type: string
        reportStatus:
          type: string
        statusCode:
          type: string
        transactionId:
          type: string
        timeStamp:
          type: string
        message:
          type: object
        errors:
          uniqueItems: true
          type: array
          items:
            type: string
    ContractRequestObject: 
      type: object
      required:
        - primeEntityInformation
      properties: 
        primeEntityInformation: 
          type: array
          items: 
            type: object
            properties: 
              contractNumber: 
                type: string
                example: W9123823PTEST
              idvReferenceNumber: 
                type: string
                example: GSTEST001
              reportPeriodMon: 
                type: string
                example: 06
              reportPeriodYear: 
                type: string
                example: 2023
              reportingAgency: 
                type: string
                example: 2100
          minItems: 1  
    ContractObject:
      type: object
      required:
        - contractData
      properties:
        contractData: 
          type: object
          required:
            - primeEntityInformation
          properties: 
            primeEntityInformation: 
              type: array
              required:
                - contractNumber
                - reportPeriodMon
                - reportPeriodYear
                - reportingAgency
                - subAwardDataList
              items: 
                type: object
                properties: 
                  contractNumber: 
                    type: string
                    example: W9123823PTEST
                  idvReferenceNumber: 
                    type: string
                    example: GSTEST001
                  reportPeriodMon: 
                    type: string
                    example: '06'
                  reportPeriodYear: 
                    type: string
                    example: 2023
                  reportingAgency: 
                    type: string
                    example: 2100
                  treasurySymbol: 
                    type: string
                    example: 12-3456
                  programTitle: 
                    type: string
                    example: Title of the program
                  recovery_model_questions: 
                    type: array
                    items: 
                      type: object
                      properties: 
                        code: 
                          type: string
                          enum: ["1","2"]
                        isSelected: 
                          type: boolean
                    minItems: 1
                    maxItems: 2                
                  subAwardDataList: 
                    type: array
                    required:
                      - subAwardNumber
                      - subAwardDollars
                      - periodOfPerformanceStartDate
                      - uei
                      - overallDescription
                      - placeOfPerformance
                    items: 
                      type: object
                      properties: 
                        subAwardNumber: 
                          type: string
                          example: 2303-TEST-05-0
                        subAwardDollars: 
                          type: string
                          example: 100567.99
                        periodOfPerformanceStartDate: 
                          type: string
                          format: date
                          example: 2023-05-14
                        uei: 
                          type: string
                          example: ABC987654321
                        overallDescription: 
                          type: string
                          example: tEST Description
                        placeOfPerformance: 
                          type: object
                          required:
                            - country
                          properties: 
                            streetAddress: 
                              type: string
                              example: 2020 F Street XYZ
                            streetAddress2: 
                              type: string
                              example: 
                            city: 
                              type: string
                              example: Alexandria
                            country: 
                              type: object
                              properties: 
                                code: 
                                  type: string
                                  example: USA
                                name: 
                                  type: string
                                  example: UNITED STATES
                            state: 
                              type: object
                              properties: 
                                code: 
                                  type: string
                                  example: VA
                                name: 
                                  type: string
                                  example: Virginia
                            zip: 
                              type: string
                              example: 12345
                        recovery_model_questions: 
                          type: array
                          items: 
                            type: object
                            properties: 
                              code: 
                                type: string
                                enum: ["3","4"]
                              isSelected: 
                                type: boolean
                          minItems: 1
                          maxItems: 2  
                        topPayEmployees: 
                          type: array
                          items: 
                            type: object
                            properties: 
                              full_name: 
                                type: string
                                example: John White
                              salary: 
                                type: string
                                example: 100000
                          minItems: 5
                          maxItems: 5
              minItems: 1  
    GrantRequestObject: 
      type: object
      required:
        - primeEntityInformation
      properties: 
        primeEntityInformation: 
          type: array
          items: 
            type: object
            properties: 
              primeFAIN: 
                type: string
                example: 1001KS1420
              reportPeriodMon: 
                type: string
                example: 05
              reportPeriodYear: 
                type: string
                example: 2023
          minItems: 1                
    GrantObject:
      type: object
      required:
        - assistanceData
      properties:
        assistanceData: 
          type: object
          required:
            - primeEntityInformation
          properties: 
            primeEntityInformation: 
              type: array
              required:
                - primeFAIN
                - reportPeriodMon
                - reportPeriodYear
                - subAssistanceDataList            
              items: 
                type: object
                properties: 
                  primeFAIN: 
                    type: string
                    example: 1001KS1420
                  reportPeriodMon: 
                    type: string
                    example: '05'
                  reportPeriodYear: 
                    type: string
                    example: 2023
                  eftIndicator: 
                    type: string
                    example: 9999
                  recovery_model_questions: 
                    type: array
                    items: 
                      type: object
                      properties: 
                        code: 
                          type: string
                          enum: ["1","2"]
                        isSelected: 
                          type: boolean
                    minItems: 1
                    maxItems: 2 
                  subAssistanceDataList: 
                    type: array
                    required:
                      - subAssistanceNumber
                      - uei
                      - subAssistanceDollars
                      - subAssistanceObligationOrActionDate
                      - overallDescription
                      - placeOfPerformance
                    items: 
                      type: object
                      properties: 
                        subAssistanceNumber: 
                          type: string
                          example: XX-YY-00008
                        uei: 
                          type: string
                          example: ABC123456789
                        eftIndicator: 
                          type: string
                          example: 1111
                        subAssistanceDollars: 
                          type: string
                          example: 100000
                        subAssistanceObligationOrActionDate: 
                          type: string
                          format: date
                          example: 2023-06-01
                        overallDescription: 
                          type: string
                          example: My Description
                        placeOfPerformance: 
                          type: object
                          required:
                            - country
                          properties: 
                            streetAddress: 
                              type: string
                              example: 1800 F Street NW
                            streetAddress2: 
                              type: string
                              example: 
                            city: 
                              type: string
                              example: Alexandria
                            country: 
                              type: object
                              properties: 
                                code: 
                                  type: string
                                  example: USA
                                name: 
                                  type: string
                                  example: UNITED STATES
                            state: 
                              type: object
                              properties: 
                                code: 
                                  type: string
                                  example: VA
                                name: 
                                  type: string
                                  example: Virginia
                            zip: 
                              type: string
                              example: 12345
                        recovery_model_questions: 
                          type: array
                          items: 
                            type: object
                            properties: 
                              code: 
                                type: string
                                enum: ["3","4"]
                              isSelected: 
                                type: boolean
                          minItems: 1
                          maxItems: 2 
                        topPayEmployees: 
                          type: array
                          items: 
                            type: object
                            properties: 
                              full_name: 
                                type: string
                                example: John White
                              salary: 
                                type: string
                                example: 100000
                          minItems: 5
                          maxItems: 5
              minItems: 1
